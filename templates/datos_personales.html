{% extends "base.html" %}
{% block title %}Datos Personales{% endblock %}
{% block content %}
<link href="{{ url_for('static', filename='css/login.css') }}" rel="stylesheet"/>

<div class="content">
  <h1>Datos Personales</h1>
    
    <!-- Si hay un mensaje de éxito o error, se muestra aquí -->
    {% if mensaje %}
        <p>{{ mensaje }}</p>
    {% endif %}
    
    <form method="POST" action="{{ url_for('datos_personales') }}">
        <div>
            <label for="altura">Altura (m):</label>
            <input type="number" step="0.01" name="altura" id="altura" value="{{ datos.altura if datos else '' }}" required>
        </div>

        <div>
            <label for="edad">Edad:</label>
            <input type="number" name="edad" id="edad" value="{{ datos.edad if datos else '' }}" required>
        </div>

        <div>
            <label for="genero">Género:</label>
            <select name="genero" id="genero" required>
                <option value="Masculino" {% if datos and datos.genero == 'Masculino' %}selected{% endif %}>Masculino</option>
                <option value="Femenino" {% if datos and datos.genero == 'Femenino' %}selected{% endif %}>Femenino</option>
                <option value="Otros" {% if datos and datos.genero == 'Otros' %}selected{% endif %}>Otros</option>
            </select>
        </div>

        <div>
            <label for="nivel_actividad">Nivel de Actividad:</label>
            <select name="nivel_actividad" id="nivel_actividad" required>
                <option value="1" {% if datos and datos.nivel_actividad == 1 %}selected{% endif %}>Bajo</option>
                <option value="2" {% if datos and datos.nivel_actividad == 2 %}selected{% endif %}>Moderado</option>
                <option value="3" {% if datos and datos.nivel_actividad == 3 %}selected{% endif %}>Alto</option>
            </select>
        </div>

        <div>
            <label for="tipo_dieta">Tipo de Dieta:</label>
            <select name="tipo_dieta" id="tipo_dieta" required>
                <option value="Subir" {% if datos and datos.tipo_dieta == 'Subir' %}selected{% endif %}>Subir</option>
                <option value="Bajar" {% if datos and datos.tipo_dieta == 'Bajar' %}selected{% endif %}>Bajar</option>
                <option value="Mantenerse" {% if datos and datos.tipo_dieta == 'Mantenerse' %}selected{% endif %}>Mantenerse</option>
            </select>
        </div>

        <div>
            <label for="calorias_base">Calorías Base:</label>
            <input type="number" step="0.01" name="calorias_base" id="calorias_base" value="{{ datos.calorias_base if datos else '' }}" required>
        </div>

        <div>
            <label for="calorias_permitidas">Calorías Permitidas:</label>
            <input type="number" step="0.01" name="calorias_permitidas" id="calorias_permitidas" value="{{ datos.calorias_permitidas if datos else '' }}" required>
        </div>

        <div>
            <button type="submit">Guardar</button>
        </div>
    </form>

    <a href="{{ url_for('home') }}">Volver a la página principal</a>
</div>

{% endblock %}
